!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Scroller=i()}(this,(function(){return class{constructor({container:t,offset:i=.5,scenes:s}){this.observer=null,this.t={},this.i=t,this.s=i,this.o=0,this.h=s}on(t,i){(this.t[t]||(this.t[t]=[])).push(i)}off(t,i){this.t[t]&&this.t[t].splice(this.t[t].indexOf(i)>>>0,1)}u(t,i){(this.t[t]||[]).slice().map(t=>{t(i)})}init(){const t=[];this.observer=new IntersectionObserver(i=>{const s=this.l();i.forEach(i=>{const n=i.target,e={bounds:i.boundingClientRect,element:n,index:t.indexOf(n),isScrollingDown:s},o=n===this.i?"container":"scene";i.isIntersecting?this.u(o+":enter",e):this.u(o+":exit",e)})},{rootMargin:`${-100*(1-this.s)}% 0px ${-100*this.s}%`});for(let i=0;i<this.h.length;i++){const s=this.h[i];t.push(s),this.observer.observe(s)}this.i&&this.observer.observe(this.i),this.u("init")}l(){const t=window.pageYOffset,i=t>this.o;return this.o=t,i}}}));