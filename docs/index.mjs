export default function Scroller(n,r){var e=new Map,o=r&&r.offset,t=0;function i(n,r){var o=e.get(n);o&&o.slice().map(n=>{n(r)})}return null==o&&(o=.5),{on:function(n,r){var o=e.get(n);return o?o.push(r):e.set(n,[r]),function(){(o=e.get(n))&&o.splice(o.indexOf(r)>>>0,1)}},init:function(){var r,e,u,c;for(u=new IntersectionObserver((function(o){for(r=window.pageYOffset,e=r>t,t=r,r=0;r<o.length;r++)u=o[r],c=u.target,i(u.isIntersecting?"enter":"exit",{bounds:u.boundingClientRect,index:o.indexOf.call(n,c),isScrollingDown:e,element:c})}),{rootMargin:-100*(1-o)+"% 0px "+-100*o+"%"}),r=0;r<n.length;r++)u.observe(n[r]);i("init")}}}