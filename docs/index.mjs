export default function Scroller(n,e){var r=new Map,t=e.offset,o=0;function i(n,e){var t=r.get(n);t&&t.forEach((function(n){n(e)}))}return null==t&&(t=.5),{on:function(n,e){var t=r.get(n);return t&&t.add(e)||r.set(n,(new Set).add(e)),function(){(t=r.get(n))&&t.delete(e)}},init:function(){var e,r,u,c;for(u=new IntersectionObserver((function(t){for(e=window.pageYOffset,r=e>o,o=e,e=0;e<t.length;e++)u=t[e],c=u.target,i(u.isIntersecting?"enter":"exit",{bounds:u.boundingClientRect,index:t.indexOf.call(n,c),isScrollingDown:r,element:c})}),{rootMargin:-100*(1-t)+"% 0px "+-100*t+"%"}),e=0;e<n.length;e++)u.observe(n[e]);i("init")}}}